{% extends 'base.html' %}
{% block body %}

<div class="container">
    <div class="post">
        <span><a href="{% url 'blog:post_update' post.id %}">
                <button type="button" class="btn btn-light" style="font-size: 15px; font-weight: bold;">수정</button>
            </a></span>

        <span><a href="{% url 'blog:post_delete' post.id %} " method="POST">
                <button type="button" class="btn btn-light" style="font-size: 15px; font-weight: bold;">삭제</button>
            </a></span>

        <!-- <span><form action=" {% url 'blog:post_delete' post.id %} " method="POST">
            {% csrf_token %}
            <input class="button btn btn-light" type="submit" value="삭제" onclick="return confirm('글을 정말로 삭제하시겠습니까?')" style="font-size: 15px; font-weight: bold;">
        </form></span> -->
        <hr>

        <!-- CAROUSEL AREA -->
        <div id="demos" class="carousel slide" data-ride="carousel">

            <!-- The slideshow -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="center-block img-responsive" src="{{post.image.url}}">
                </div>

                {% if post.image_2 %}
                <div class="carousel-item">
                    <img class="center-block img-responsive" src="{{post.image_2.url}}">
                </div>
                {% endif %}

                {% if post.image_3 %}
                <div class="carousel-item">
                    <img class="center-block img-responsive" src="{{post.image_3.url}}">
                </div>
                {% endif %}

                {% if post.image_4 %}
                <div class="carousel-item">
                    <img class="center-block img-responsive" src="{{post.image_4.url}}">
                </div>
                {% endif %}
            </div>

            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#demos" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#demos" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>

        <p class="post-text">{{post.text}}</p>
    </div>
</div>

<hr>

<div class="container comment">
    <form action="{% url 'blog:create_comment' post.id %}" method="POST">
        {% csrf_token %}
        <label for="comment"><strong>{{user}} 님</strong>, 한줄 평을 남겨보아요~</label>
        <!-- 코멘트 등록버튼 누르면 등록되게끔 연결좀 시켜주세용 ㅎㅎㅎ-->
        <div class="input-group mb-3">
            <input type="text" class="form-control" name="content" id="comment" placeholder="이곳이 어떠셨나요?" aria-label="후기" aria-describedby="basic-addon2" autofocus>
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" style="font-weight: bold;">등록!</button>
            </div>
          </div>
    </form>

    <div>
        {% if comments %}
        {% for comment in comments  %}
        <span>{{comment.author}} : {{comment.content}} </span> 
        <span><a href="{% url 'blog:post_delete' post.id %} " method="POST">
            <button>삭제</button>
        </a></span>
        <br>
        {% endfor %}

        {% else %}
        <li class="list-group-item mb-1"> No comments yet...</li>
        {% endif %}
        
    
        </ul>
    </div>
</div>


{% endblock %}